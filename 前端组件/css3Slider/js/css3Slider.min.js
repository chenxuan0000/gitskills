(function(d){d.fn.css3Slider=function(a){a=d.extend({},d.fn.css3Slider.defaults,a);var g=d("#"+a.containerId),c=g.children(),n=c.children(),h=n.length,p=360/h,k=0,q=0,l=0,m=0,e=a.containerWidth/(2*Math.tan(Math.PI/h)),r="@keyframes scroll{0% {transform: translateZ( -"+e+"px) rotateY(0deg);}\n100%{transform: translateZ( -"+e+"px) rotateY(360deg);}}";g.height(a.containerHeight).width(a.containerWidth).css("perspective",a.perspective+"px");c.css("transform"," translateZ( -"+e+"px)");n.each(function(b,a){a.style.transform="rotateY( "+b*p+"deg) translateZ( "+e+"px)"});g=document.createElement("style");g.type="text/css";document.getElementsByTagName("head")[0].appendChild(g);this.stylesheet=document.styleSheets[document.styleSheets.length-1];try{this.stylesheet.insertRule(r,this.stylesheet.rules.length)}catch(b){}a.autoPlay&&(a.hoverParse&&c.mouseover(function(){d(this).css("animation-play-state","paused")}).mouseout(function(){d(this).css("animation-play-state","")}),c.css("animation","scroll "+a.animationTime+"s infinite"));c.on("mousedown","img",function(b){b.preventDefault()});if(!a.autoPlay&&!a.swiftMove&&a.clickFront)c.on("click",".animation-child",function(b){b.preventDefault();var a=d(this);b=a.index();var f;switch(b-k){case 1-h:f=1;break;case h-1:f=-1;break;default:f=b-k}k=b;q+=f;l=m+q*p*-1;c.css({transition:"transform "+Math.abs(f)+"s",transform:" translateZ( -"+e+"px) rotateY("+l+"deg)"});a.find("a").length&&setTimeout(function(){location.href=a.find("a")[0].href},1E3*Math.abs(f))});if(a.swiftMove)(new Hammer(c[0])).on("panmove",function(a){a=Math.floor(a.deltaX/225);c.css({transition:"transform "+Math.abs(Math.floor(a))+"s",transform:" translateZ( -"+e+"px) rotateY("+(m+l+45*a)+"deg)"})}).on("panend",function(a){m+=45*Math.floor(a.deltaX/225)})};d.fn.css3Slider.defaults={containerId:"css3Slider",containerWidth:"500",containerHeight:"300",perspective:"1400",autoPlay:!1,hoverParse:!0,clickFront:!0,swiftMove:!0,animationTime:"12",translateZmore:"100"}})(jQuery);